"0","# Create first model"
"0","# Create Recipe"
"0","#setdiff(names(test), names(train))"
"0",""
"0","rec_1 <- recipe(SalePrice ~ ., data = train)"
"0",""
"0","# Define Processing Steps"
"0","rec_1 <- rec_1 %>% "
"0","  # Mean imputation for numeric predictors"
"0","  step_impute_mean(all_predictors() & all_numeric()) %>% "
"0","  # KNN imputation for categorical predictors"
"0","  step_impute_knn(all_predictors() & all_nominal(), neighbors = 5) %>%"
"0","  # Create dummies for categorical variables"
"0","  step_dummy(all_predictors() & all_nominal()) %>% "
"0","  step_impute_mean(all_numeric_predictors()) %>% "
"0","  step_impute_mode(all_nominal_predictors())"
"0",""
"0","# Apply processing to data"
"0","#train_1 <- rec_1 %>% prep() %>% juice()"
"0","# test_1 <- bake(proc_1, new_data = test)  # Go to office hours and ask Andrew why this isnt working ; apply recipe for training data to testing data"
"0","  "
"0","# Create regression model"
"0","reg_1 <- linear_reg() %>% "
"0","  set_engine(""lm"")"
"0","  # fit(SalePrice ~. , data = train_1)"
"0",""
"0","# Predict"
"0","# test_1 <- test %>% "
"0","#   mutate(SalePrice = predict(reg_1, new_data = test))"
"0",""
"0","# Workflow"
"0","workflow_1 ="
"0","  workflow() %>%"
"0","  add_model(reg_1) %>%"
"0","  add_recipe(rec_1) %>%"
"0","  fit(data = train)"
"0",""
"0","test_hat_1 = workflow_1 %>% predict(new_data = test)"
"2","Warning: prediction from rank-deficient fit; consider predict(., rankdeficient=""NA"")"
"0","mod_out_1 <- test %>% "
"0","  mutate(SalePrice = test_hat_1$.pred) %>% "
"0","  select(""Id"", ""SalePrice"")"
"0",""
"0","# Create Second Model"
"0","mod_2 <- nearest_neighbor(neighbors = 8) %>% "
"0","  set_engine(""kknn"") %>% "
"0","  set_mode(""regression"")"
"0",""
"0","workflow_2 <- workflow() %>% "
"0","  add_model(mod_2) %>% "
"0","  add_recipe(rec_1) %>% "
"0","  fit(data = train)"
"0",""
"0","test_hat_2 = workflow_2 %>%  predict(new_data = test)"
"0","mod_out_2 <- test %>% "
"0","  mutate(SalePrice = test_hat_2$.pred) %>% "
"0","  select(""Id"", ""SalePrice"")"
"0",""
"0","# Write model outputs"
"0","write.csv(file = ""data/model_1.csv"", mod_out_1, row.names = FALSE)"
"0","write.csv(file = ""data/model_2.csv"", mod_out_2, row.names = FALSE)"
"0","  "
"0",""
"0",""
